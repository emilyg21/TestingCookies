---
layout: default
title: Tracking Test Site
---

<h1>ğŸ” User Behavior Tracking Demo</h1>
<p>This page tracks user behavior and displays logs in real-time.</p>

<button id="buyBtn">ğŸ’¸ Buy Now</button>

<h2>ğŸ“‹ Tracking Log</h2>
<div id="log">Waiting for activity...</div>

<div class="spacer" style="height: 1500px;"></div>

<script>
  // Wait until DOM is loaded
  document.addEventListener('DOMContentLoaded', () => {
    const logEl = document.getElementById('log');
    const buyBtn = document.getElementById('buyBtn');

    function log(msg) {
      console.log(msg);
      logEl.innerHTML += `<div>> ${msg}</div>`;
      logEl.scrollTop = logEl.scrollHeight;
    }

    const trackingData = {
      timestamp: new Date().toISOString(),
      referrer: document.referrer || 'direct',
      userAgent: navigator.userAgent,
      screenSize: `${screen.width}x${screen.height}`,
      clicks: [],
      scrollDepth: 0,
      location: null
    };

    // Click tracking
    buyBtn.addEventListener('click', () => {
      const time = new Date().toISOString();
      trackingData.clicks.push({ element: 'Buy Button', time });
      document.cookie = `clickEvent=BuyNow_${Date.now()}; path=/`;
      log(`ğŸ’¬ Button clicked at ${time}`);
    });

    // Scroll tracking
    window.addEventListener('scroll', () => {
      const scrolled = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
      trackingData.scrollDepth = scrolled;
    });

    // Geolocation tracking
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          trackingData.location = {
            lat: pos.coords.latitude,
            lon: pos.coords.longitude,
            accuracy: pos.coords.accuracy
          };
          document.cookie = `lat=${pos.coords.latitude}; path=/`;
          document.cookie = `lon=${pos.coords.longitude}; path=/`;
          log(`ğŸ“ Geolocation: ${pos.coords.latitude}, ${pos.coords.longitude} (Â±${pos.coords.accuracy}m)`);
        },
        (err) => log(`âŒ Geolocation error: ${err.message}`)
      );
    } else {
      log("âŒ Geolocation not supported.");
    }

    // On unload, store summary
    window.addEventListener('beforeunload', () => {
      document.cookie = `lastVisit=${encodeURIComponent(JSON.stringify(trackingData))}; path=/`;
    });

    // Initial log
    log("âœ… Tracking initialized...");
  });
</script>
